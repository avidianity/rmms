{"version":3,"sources":["Components/Dashboard/Sidebar.tsx","classes.ts","events.ts"],"names":["Sidebar","props","match","useRouteMatch","showSearch","useContext","SearchContext","show","url","path","user","state","get","links","to","title","icon","exact","routes","INVENTORIES","includes","role","INVENTORY_RELEASES","MEDICINES","PRESCRIPTIONS","PATIENTS","RECORDS","REGULAR","PRENATAL","IMMUNIZATION","ARCHIVED","USERS","className","data-color","data-background-color","data-image","HOME","src","alt","style","height","width","outIf","onSubmit","e","preventDefault","keyword","String","$","val","SearchBus","dispatch","id","type","placeholder","onKeyUp","key","target","value","onChange","map","link","index","activeClassName","href","onClick","MainBus","PROFILE","Symbol","description","this","EventBus","callbacks","forEach","callback","push","symbol","splice","getKey"],"mappings":"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","file":"static/js/22.2992464c.chunk.js","sourcesContent":["import React, { FC, useContext } from 'react';\nimport { NavLink as Link, useRouteMatch } from 'react-router-dom';\nimport { SearchContext } from '../../contexts';\nimport { User } from '../../Contracts/User';\nimport { MainBus, SearchBus } from '../../events';\nimport { outIf } from '../../helpers';\nimport { routes } from '../../routes';\nimport state from '../../state';\n\ntype Props = {};\n\nconst Sidebar: FC<Props> = (props) => {\n\tconst match = useRouteMatch();\n\n\tconst { show: showSearch } = useContext(SearchContext);\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\tconst user = state.get<User>('user');\n\n\tconst links: { to: string; icon: string; title: string; exact?: boolean; show: boolean }[] = [\n\t\t{\n\t\t\tto: url(''),\n\t\t\ttitle: 'Dashboard',\n\t\t\ticon: 'dashboard',\n\t\t\texact: true,\n\t\t\tshow: true,\n\t\t},\n\t\t{\n\t\t\tto: url(routes.INVENTORIES),\n\t\t\ttitle: 'Medical Equipment',\n\t\t\ticon: 'inventory',\n\t\t\tshow: ['Pharmacist', 'Admin'].includes(user.role),\n\t\t},\n\t\t{\n\t\t\tto: url(routes.INVENTORY_RELEASES),\n\t\t\ttitle: 'Supply Releases',\n\t\t\ticon: 'receipt_long',\n\t\t\tshow: ['Pharmacist', 'Admin'].includes(user.role),\n\t\t},\n\t\t{\n\t\t\tto: url(routes.MEDICINES),\n\t\t\ttitle: 'Medicine Stocks',\n\t\t\ticon: 'local_pharmacy',\n\t\t\tshow: ['Pharmacist', 'Admin'].includes(user.role),\n\t\t},\n\t\t{\n\t\t\tto: url(routes.PRESCRIPTIONS),\n\t\t\ttitle: 'Prescriptions',\n\t\t\ticon: 'medication',\n\t\t\tshow: ['Pharmacist', 'Admin'].includes(user.role),\n\t\t},\n\t\t{\n\t\t\tto: url(routes.PATIENTS),\n\t\t\ttitle: 'Patients',\n\t\t\ticon: 'supervised_user_circle',\n\t\t\tshow: ['Nurse', 'Midwife', 'Doctor', 'Admin'].includes(user.role),\n\t\t},\n\t\t{\n\t\t\tto: url(routes.RECORDS.REGULAR),\n\t\t\ttitle: 'Regular Patients',\n\t\t\ticon: 'contact_page',\n\t\t\tshow: ['Nurse', 'Midwife', 'Doctor', 'Admin'].includes(user.role),\n\t\t},\n\t\t{\n\t\t\tto: url(routes.RECORDS.PRENATAL),\n\t\t\ttitle: 'Prenatal Patients',\n\t\t\ticon: 'pregnant_woman',\n\t\t\tshow: ['Nurse', 'Midwife', 'Doctor', 'Admin'].includes(user.role),\n\t\t},\n\t\t{\n\t\t\tto: url(routes.RECORDS.IMMUNIZATION),\n\t\t\ttitle: 'Immunization Patients',\n\t\t\ticon: 'coronavirus',\n\t\t\tshow: ['Nurse', 'Midwife', 'Doctor', 'Admin'].includes(user.role),\n\t\t},\n\t\t{\n\t\t\tto: url(routes.RECORDS.ARCHIVED),\n\t\t\ttitle: 'Archived Records',\n\t\t\ticon: 'archive',\n\t\t\tshow: ['Nurse', 'Midwife', 'Doctor', 'Admin'].includes(user.role),\n\t\t},\n\t\t{\n\t\t\tto: url(routes.USERS),\n\t\t\ttitle: 'Users',\n\t\t\ticon: 'account_circle',\n\t\t\tshow: user.role === 'Admin',\n\t\t},\n\t];\n\n\treturn (\n\t\t<div className='sidebar' data-color='green' data-background-color='white' data-image='/assets/img/sidebar-1.jpg'>\n\t\t\t<div className='logo'>\n\t\t\t\t<Link to={routes.HOME} className='simple-text logo-normal d-flex align-items-center justify-content-center'>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc='/assets/img/manifest-icon-512.png'\n\t\t\t\t\t\talt='RMMS'\n\t\t\t\t\t\tclassName='rounded-circle shadow-sm border mr-2'\n\t\t\t\t\t\tstyle={{ height: '40px', width: '40px' }}\n\t\t\t\t\t/>\n\t\t\t\t\tRMMS - MHCG\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t\t<div className='sidebar-wrapper'>\n\t\t\t\t<ul className='nav'>\n\t\t\t\t\t<li className={`nav-item mobile-logout ${outIf(!showSearch, 'd-none')}`}>\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tclassName='navbar-form px-3'\n\t\t\t\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tconst keyword = String($('#search').val());\n\t\t\t\t\t\t\t\tSearchBus.dispatch('submit', keyword);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<div className='input-group no-border'>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tid='search'\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tplaceholder='Search...'\n\t\t\t\t\t\t\t\t\tonKeyUp={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\t\t\t\t\t\t\tconst keyword = (e.target as HTMLInputElement).value;\n\t\t\t\t\t\t\t\t\t\t\tSearchBus.dispatch('submit', keyword);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tSearchBus.dispatch('onChange', e);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-white btn-round btn-just-icon'>\n\t\t\t\t\t\t\t\t\t<i className='material-icons'>search</i>\n\t\t\t\t\t\t\t\t\t<div className='ripple-container'></div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</li>\n\t\t\t\t\t{links.map((link, index) =>\n\t\t\t\t\t\tlink.show ? (\n\t\t\t\t\t\t\t<li className='nav-item' key={index}>\n\t\t\t\t\t\t\t\t<Link to={link.to} exact={link.exact} className='nav-link' activeClassName='active'>\n\t\t\t\t\t\t\t\t\t<i className='material-icons'>{link.icon}</i>\n\t\t\t\t\t\t\t\t\t<p>{link.title}</p>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t) : null\n\t\t\t\t\t)}\n\t\t\t\t\t<li className='nav-item mobile-logout'>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref='/logout'\n\t\t\t\t\t\t\tclassName='nav-link'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tMainBus.dispatch('logout');\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<i className='material-icons'>logout</i>\n\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t<Link className='nav-link' to={url(routes.PROFILE)}>\n\t\t\t\t\t\t\t<i className='material-icons'>settings</i>\n\t\t\t\t\t\t\t<p>Profile Settings</p>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Sidebar;\n","export class Symbol {\n\tprotected key: number;\n\n\tconstructor(description: number) {\n\t\tthis.key = description;\n\t}\n\n\tgetKey() {\n\t\treturn this.key;\n\t}\n}\n\nexport class EventBus {\n\tprotected callbacks: { [key: string]: Function[] } = {};\n\n\tdispatch(key: string, value?: any) {\n\t\tif (!(key in this.callbacks)) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.callbacks[key].forEach((callback) => callback(value));\n\n\t\treturn this;\n\t}\n\n\tlisten<T>(key: string, callback: (args: T) => void) {\n\t\tif (!(key in this.callbacks)) {\n\t\t\tthis.callbacks[key] = [];\n\t\t}\n\n\t\treturn new Symbol(this.callbacks[key].push(callback) - 1);\n\t}\n\n\tunlisten(key: string, symbol: Symbol) {\n\t\tif (!(key in this.callbacks)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.callbacks[key].splice(symbol.getKey(), 1);\n\t}\n}\n","import { EventBus } from './classes';\n\nexport const SearchBus = new EventBus();\n\nexport const MainBus = new EventBus();\n"],"sourceRoot":""}