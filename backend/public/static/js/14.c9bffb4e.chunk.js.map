{"version":3,"sources":["Components/InventoryReleases/Form.tsx","Components/InventoryReleases/List.tsx","Components/InventoryReleases/index.tsx","Components/Table.tsx","classes.ts","events.ts","Components/Pagination.tsx"],"names":["Form","props","useState","processing","setProcessing","mode","setMode","id","setID","Date","date","setDate","inventories","setInventories","useForm","register","handleSubmit","setValue","match","useRouteMatch","history","useHistory","submit","data","a","toJSON","axios","post","put","toastr","success","handleError","fetchInventoryRelease","get","name","inventory_id","quantity","dayjs","toDate","$","addClass","goBack","fetchInventories","length","error","console","log","useEffect","path","includes","params","className","style","color","onSubmit","ref","type","disabled","map","inventory","index","value","description","onChange","dates","List","inventoryReleases","setInventoryReleases","makeDummyPagination","pagination","setPagination","url","user","state","fetchInventoryReleases","page","set","current_page","search","keyword","encodeURIComponent","key","SearchBus","listen","unlisten","role","to","Table","title","head","foot","Pagination","inventoryRelease","format","InventoryReleases","exact","component","subtitles","children","Symbol","this","EventBus","callbacks","forEach","callback","push","symbol","splice","getKey","MainBus","small","links","filter","link","Number","isInteger","label","handleClick","e","preventDefault","total","per_page","aria-label","outIf","toBool","prev_page_url","href","onClick","aria-hidden","active","next_page_url"],"mappings":"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","file":"static/js/14.c9bffb4e.chunk.js","sourcesContent":["import axios from 'axios';\nimport React, { FC, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport toastr from 'toastr';\nimport { handleError } from '../../helpers';\nimport Flatpickr from 'react-flatpickr';\nimport dayjs from 'dayjs';\nimport { InventoryRelease } from '../../Contracts/InventoryRelease';\nimport { Inventory } from '../../Contracts/Inventory';\n\ntype Props = {};\n\nconst Form: FC<Props> = (props) => {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [mode, setMode] = useState('Add');\n\tconst [id, setID] = useState<number>();\n\tconst [date, setDate] = useState(new Date());\n\tconst [inventories, setInventories] = useState<Inventory[]>([]);\n\tconst { register, handleSubmit, setValue } = useForm<InventoryRelease>();\n\tconst match = useRouteMatch<{ id: string }>();\n\tconst history = useHistory();\n\n\tconst submit = async (data: InventoryRelease) => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tdata.date = date.toJSON();\n\t\t\tawait (mode === 'Add' ? axios.post(`/inventory-releases`, data) : axios.put(`/inventory-releases/${id}`, data));\n\t\t\ttoastr.success('Supply Release saved successfully.');\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tconst fetchInventoryRelease = async (id: any) => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get<InventoryRelease>(`/inventory-releases/${id}`);\n\t\t\tsetValue('name', data.name);\n\t\t\tsetValue('inventory_id', data.inventory_id);\n\t\t\tsetValue('quantity', data.quantity);\n\t\t\tsetDate(dayjs(data.date).toDate());\n\t\t\tsetID(data.id);\n\t\t\t$('.form-group').addClass('is-filled');\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tconst fetchInventories = async () => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get<Inventory[]>('/inventories?paginate=false');\n\t\t\tif (data.length === 0) {\n\t\t\t\ttoastr.error('No supplies exist. Cannot release.');\n\t\t\t\thistory.goBack();\n\t\t\t}\n\t\t\tsetInventories(data);\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to fetch supply list.');\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetchInventories();\n\t\tif (match.path.includes('edit')) {\n\t\t\tsetMode('Edit');\n\t\t\tfetchInventoryRelease(match.params.id);\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className='card'>\n\t\t\t<div className='card-header card-header primary'>\n\t\t\t\t{mode} Supply Release\n\t\t\t\t<p className='card-category'>Complete the form below. Leave blank if not applicable.</p>\n\t\t\t\t<p className='card-category'>\n\t\t\t\t\tFields with <span style={{ color: 'rgb(190, 0, 0)' }}>*</span> are required.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className='card-body'>\n\t\t\t\t<form onSubmit={handleSubmit(submit)}>\n\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t<div className='col-12 col-md-6'>\n\t\t\t\t\t\t\t<div className='form-group bmd-form-group'>\n\t\t\t\t\t\t\t\t<label className='bmd-label-floating required'>Name</label>\n\t\t\t\t\t\t\t\t<input ref={register} type='text' className='form-control' disabled={processing} name='name' />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='col-12 col-md-6'>\n\t\t\t\t\t\t\t<div className='form-group bmd-form-group is-filled'>\n\t\t\t\t\t\t\t\t<label className='bmd-label-floating required'>Supply Name</label>\n\t\t\t\t\t\t\t\t<select ref={register} className='form-control' disabled={processing} name='inventory_id'>\n\t\t\t\t\t\t\t\t\t{inventories.map((inventory, index) => (\n\t\t\t\t\t\t\t\t\t\t<option value={inventory.id} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t{inventory.description}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='col-12 col-md-6'>\n\t\t\t\t\t\t\t<div className='form-group bmd-form-group'>\n\t\t\t\t\t\t\t\t<label className='bmd-label-floating required'>Quantity</label>\n\t\t\t\t\t\t\t\t<input ref={register} type='number' className='form-control' disabled={processing} name='quantity' />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='col-12 col-md-6'>\n\t\t\t\t\t\t\t<div className='form-group bmd-form-group is-filled'>\n\t\t\t\t\t\t\t\t<label className='bmd-label-floating'>Date</label>\n\t\t\t\t\t\t\t\t<Flatpickr value={date} className='form-control' onChange={(dates) => setDate(dates[0])} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='col-12'>\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-info btn-sm' disabled={processing}>\n\t\t\t\t\t\t\t\t{processing ? <i className='material-icons spin'>refresh</i> : 'Save'}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Form;\n","import axios from 'axios';\nimport dayjs from 'dayjs';\nimport React, { FC, useEffect, useState } from 'react';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport toastr from 'toastr';\nimport { Paginated } from '../../Contracts/misc';\nimport { InventoryRelease } from '../../Contracts/InventoryRelease';\nimport { SearchBus } from '../../events';\nimport { makeDummyPagination, handleError } from '../../helpers';\nimport state from '../../state';\nimport Pagination from '../Pagination';\nimport Table from '../Table';\nimport { User } from '../../Contracts/User';\n\ntype Props = {};\n\nconst List: FC<Props> = (props) => {\n\tconst [inventoryReleases, setInventoryReleases] = useState<InventoryRelease[]>([]);\n\tconst [pagination, setPagination] = useState<Paginated>(makeDummyPagination());\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\tconst user = state.get<User>('user');\n\n\tconst fetchInventoryReleases = async (url?: string) => {\n\t\ttry {\n\t\t\tconst page = state.get<number>('inventory-releases-page') || 1;\n\t\t\tconst { data } = await axios.get<Paginated<InventoryRelease>>(url ? url : `/inventory-releases?page=${page}`);\n\t\t\tsetInventoryReleases(data.data);\n\t\t\tsetPagination(data);\n\t\t\tstate.set('inventory-releases-page', data.current_page);\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tconst search = async (keyword: string) => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get(`/search?model=InventoryRelease&keyword=${encodeURIComponent(keyword)}&paginate=false`);\n\t\t\tsetInventoryReleases(data);\n\t\t\tsetPagination(makeDummyPagination());\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to search.');\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetchInventoryReleases();\n\t\tconst key = SearchBus.listen<string>('submit', (keyword) => {\n\t\t\tif (keyword.length > 0) {\n\t\t\t\tsearch(keyword);\n\t\t\t} else {\n\t\t\t\tfetchInventoryReleases();\n\t\t\t}\n\t\t});\n\t\treturn () => {\n\t\t\tSearchBus.unlisten('submit', key);\n\t\t};\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t{['Pharmacist'].includes(user.role) ? (\n\t\t\t\t<Link to={url('/add')} className='btn btn-info btn-sm'>\n\t\t\t\t\tAdd New Supply Release\n\t\t\t\t</Link>\n\t\t\t) : null}\n\t\t\t<Table\n\t\t\t\ttitle='Supply Release'\n\t\t\t\thead={() => (\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>ID</th>\n\t\t\t\t\t\t<th>Name</th>\n\t\t\t\t\t\t<th>Quantity</th>\n\t\t\t\t\t\t<th>Date</th>\n\t\t\t\t\t\t<th>Supply Name</th>\n\t\t\t\t\t\t<th className='text-center'>Actions</th>\n\t\t\t\t\t</tr>\n\t\t\t\t)}\n\t\t\t\tfoot={() => <Pagination pagination={pagination} onChange={(url) => fetchInventoryReleases(url)} />}>\n\t\t\t\t{inventoryReleases.map((inventoryRelease, index) => (\n\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t<td>{inventoryRelease.id}</td>\n\t\t\t\t\t\t<td>{inventoryRelease.name}</td>\n\t\t\t\t\t\t<td>{inventoryRelease.quantity}</td>\n\t\t\t\t\t\t<td>{dayjs(inventoryRelease.date).format('MMMM DD, YYYY')}</td>\n\t\t\t\t\t\t<td>{inventoryRelease.inventory?.description}</td>\n\t\t\t\t\t\t<td className='text-center'>\n\t\t\t\t\t\t\t<Link to={url(`/${inventoryRelease.id}/edit`)} className='btn btn-warning btn-sm' title='Edit'>\n\t\t\t\t\t\t\t\t<i className='material-icons mr-1'>create</i>\n\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t))}\n\t\t\t</Table>\n\t\t</>\n\t);\n};\n\nexport default List;\n","import React, { FC } from 'react';\nimport { useRouteMatch, Switch, Route } from 'react-router-dom';\nimport Form from './Form';\nimport List from './List';\n\ntype Props = {};\n\nconst InventoryReleases: FC<Props> = (props) => {\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path={url('')} exact component={List} />\n\t\t\t<Route path={url('/add')} component={Form} />\n\t\t\t<Route path={url('/:id/edit')} component={Form} />\n\t\t</Switch>\n\t);\n};\n\nexport default InventoryReleases;\n","import React, { FC } from 'react';\n\ntype Props = {\n\ttitle: string;\n\tsubtitles?: string;\n\thead: () => JSX.Element;\n\tfoot?: () => JSX.Element;\n\tclassName?: string;\n};\n\nconst Table: FC<Props> = ({ title, subtitles, head, children, foot, className }) => {\n\treturn (\n\t\t<div className={`card ${className}`}>\n\t\t\t<div className='card-header card-header-success'>\n\t\t\t\t<h4 className='card-title'>{title}</h4>\n\t\t\t\t{subtitles ? <p className='card-category'>{subtitles}</p> : null}\n\t\t\t</div>\n\t\t\t<div className='card-body'>\n\t\t\t\t<div className='table-responsive'>\n\t\t\t\t\t<table className='table'>\n\t\t\t\t\t\t<thead className='text-success'>{head()}</thead>\n\t\t\t\t\t\t<tbody>{children}</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{foot ? <div className='card-footer'>{foot()}</div> : null}\n\t\t</div>\n\t);\n};\n\nexport default Table;\n","export class Symbol {\n\tprotected key: number;\n\n\tconstructor(description: number) {\n\t\tthis.key = description;\n\t}\n\n\tgetKey() {\n\t\treturn this.key;\n\t}\n}\n\nexport class EventBus {\n\tprotected callbacks: { [key: string]: Function[] } = {};\n\n\tdispatch(key: string, value?: any) {\n\t\tif (!(key in this.callbacks)) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.callbacks[key].forEach((callback) => callback(value));\n\n\t\treturn this;\n\t}\n\n\tlisten<T>(key: string, callback: (args: T) => void) {\n\t\tif (!(key in this.callbacks)) {\n\t\t\tthis.callbacks[key] = [];\n\t\t}\n\n\t\treturn new Symbol(this.callbacks[key].push(callback) - 1);\n\t}\n\n\tunlisten(key: string, symbol: Symbol) {\n\t\tif (!(key in this.callbacks)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.callbacks[key].splice(symbol.getKey(), 1);\n\t}\n}\n","import { EventBus } from './classes';\n\nexport const SearchBus = new EventBus();\n\nexport const MainBus = new EventBus();\n","import React from 'react';\nimport { Paginated } from '../Contracts/misc';\nimport { outIf, toBool } from '../helpers';\n\ntype Props = {\n\tpagination: Paginated<any>;\n\tonChange: (url: string) => void;\n\tsmall?: boolean;\n};\n\nexport default function Pagination({ pagination, onChange, small }: Props) {\n\tconst links = pagination.links.filter((link) => Number.isInteger(Number(link.label)));\n\n\tconst handleClick = (url: string | null) => {\n\t\treturn (e: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => {\n\t\t\te.preventDefault();\n\t\t\tif (url) {\n\t\t\t\tonChange(url);\n\t\t\t}\n\t\t};\n\t};\n\n\tif (pagination.total <= pagination.per_page) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<nav aria-label='Page Navigation'>\n\t\t\t<ul className={`pagination ${outIf(toBool(small), 'pagination-sm')}`}>\n\t\t\t\t<li className={`page-item ${outIf(pagination.prev_page_url === null, 'disabled')}`}>\n\t\t\t\t\t<a className='page-link' href={`${pagination.prev_page_url}`} onClick={handleClick(pagination.prev_page_url)}>\n\t\t\t\t\t\t<span aria-hidden='true'>&lt;</span>\n\t\t\t\t\t\t<span className='sr-only'>Previous</span>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t{links.map(({ active, label, url }, index) => (\n\t\t\t\t\t<li className={`page-item ${outIf(active, 'active')}`} key={index}>\n\t\t\t\t\t\t<a className='page-link' href={`${url}`} onClick={handleClick(url)}>\n\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t\t<li className={`page-item ${outIf(pagination.next_page_url === null, 'disabled')}`}>\n\t\t\t\t\t<a className='page-link' href={`${pagination.next_page_url}`} onClick={handleClick(pagination.next_page_url)}>\n\t\t\t\t\t\t<span aria-hidden='true'>&gt;</span>\n\t\t\t\t\t\t<span className='sr-only'>Next</span>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</nav>\n\t);\n}\n"],"sourceRoot":""}