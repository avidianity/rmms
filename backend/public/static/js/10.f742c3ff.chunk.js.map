{"version":3,"sources":["Components/Records/Regular/Form.tsx","Components/Records/Regular/List.tsx","Components/Records/Regular/View.tsx","Components/Records/Regular/index.tsx","Components/Table.tsx","classes.ts","events.ts","Components/Pagination.tsx","contants.ts"],"names":["Form","props","useState","processing","setProcessing","mode","setMode","id","setID","doctors","setDoctors","patients","setPatients","prescriptions","setPrescriptions","medicines","setMedicines","user","state","get","useForm","defaultValues","diagnosis","doctor_id","role","status","STATUSES","RegularRecord","register","handleSubmit","setValue","match","useRouteMatch","history","useHistory","patient","setPatient","submit","data","a","patient_id","axios","post","put","toastr","success","handleError","fetchRecord","$","addClass","goBack","fetchDoctors","fetchPatients","fetchMedicines","filter","medicine","available","fetchRequirements","Promise","all","path","includes","params","console","log","toJSON","error","useEffect","className","onSubmit","disabled","list","onChange","e","find","target","value","parseNumbers","name","map","index","ref","doctor","length","onClick","preventDefault","push","items","medicine_id","quantity","released_at","prescription","prescriptionIndex","prescription_id","splice","item","itemIndex","Number","description","type","placeholder","List","records","setRecords","makeDummyPagination","pagination","setPagination","url","fetchRecords","page","set","current_page","search","keyword","encodeURIComponent","key","SearchBus","listen","unlisten","to","Table","title","head","colSpan","foot","Pagination","case_number","updated_at","dayjs","format","lodash","truncate","View","record","setRecord","useParams","routes","DASHBOARD","PATIENTS","RECORDS","REGULAR","age","sex","birthday","address","civil_status","membership","philhealth_number","contact_number","blood_type","created_at","subtitles","undefined","unit_of_issue","RegularRecords","exact","component","children","Symbol","this","EventBus","callbacks","forEach","callback","symbol","getKey","MainBus","small","links","link","isInteger","label","handleClick","total","per_page","aria-label","outIf","toBool","prev_page_url","href","aria-hidden","active","next_page_url","RecordableMap","Record","PrenatalRecord","Immunization","fields","properties"],"mappings":"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","file":"static/js/10.f742c3ff.chunk.js","sourcesContent":["import axios from 'axios';\nimport React, { FC, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport toastr from 'toastr';\nimport { handleError } from '../../../helpers';\nimport { Record } from '../../../Contracts/Record';\nimport { User } from '../../../Contracts/User';\nimport { Patient } from '../../../Contracts/Patient';\nimport { Prescription } from '../../../Contracts/Prescription';\nimport { Medicine } from '../../../Contracts/Medicine';\nimport { STATUSES } from '../../../contants';\nimport state from '../../../state';\n\ntype Props = {};\n\nconst Form: FC<Props> = (props) => {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [mode, setMode] = useState('Add');\n\tconst [id, setID] = useState<number>();\n\tconst [doctors, setDoctors] = useState<User[]>([]);\n\tconst [patients, setPatients] = useState<Patient[]>([]);\n\tconst [prescriptions, setPrescriptions] = useState<Partial<Prescription>[]>([]);\n\tconst [medicines, setMedicines] = useState<Medicine[]>([]);\n\tconst user = state.get<User>('user');\n\tconst { register, handleSubmit, setValue } = useForm<Record>({\n\t\tdefaultValues: {\n\t\t\tdiagnosis: 'N/A',\n\t\t\tdoctor_id: user.role === 'Doctor' ? user.id! : -1,\n\t\t\tstatus: STATUSES.RegularRecord[0],\n\t\t},\n\t});\n\tconst match = useRouteMatch<{ id: string }>();\n\tconst history = useHistory();\n\tconst [patient, setPatient] = useState<Patient | string>('');\n\n\tconst submit = async (data: any) => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tdata.prescriptions = prescriptions;\n\t\t\tif (typeof patient !== 'string') {\n\t\t\t\tdata.patient_id = patient.id;\n\t\t\t}\n\t\t\tawait (mode === 'Add' ? axios.post(`/regular-records`, data) : axios.put(`/regular-records/${id}`, data));\n\t\t\ttoastr.success('Record saved successfully.');\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tconst fetchRecord = async (id: any) => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get<Record>(`/regular-records/${id}`);\n\t\t\tsetValue('diagnosis', data.diagnosis);\n\t\t\tsetValue('doctor_id', data.doctor_id);\n\t\t\tsetValue('patient_id', data.patient_id);\n\t\t\tsetValue('status', data.status);\n\t\t\tsetPrescriptions(data.prescriptions!);\n\t\t\tsetPatient(data.patient!);\n\t\t\tsetID(data.id);\n\t\t\t$('.form-group').addClass('is-filled');\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tconst fetchDoctors = async () => {\n\t\tconst { data } = await axios.get('/users?role=Doctor&paginate=false');\n\t\tsetDoctors(data);\n\t};\n\n\tconst fetchPatients = async () => {\n\t\tconst { data } = await axios.get('/patients?paginate=false');\n\t\tsetPatients(data);\n\t};\n\n\tconst fetchMedicines = async () => {\n\t\tconst { data } = await axios.get<Medicine[]>(`/pharmacy/medicines?paginate=false`);\n\t\tsetMedicines(data.filter((medicine) => medicine.available > 0));\n\t};\n\n\tconst fetchRequirements = async () => {\n\t\ttry {\n\t\t\tawait Promise.all([fetchDoctors(), fetchPatients(), fetchMedicines()]);\n\t\t\tif (match.path.includes('edit')) {\n\t\t\t\tsetMode('Edit');\n\t\t\t\tawait fetchRecord(match.params.id);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to fetch doctor, patient and medicine list.');\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetchRequirements();\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className='card'>\n\t\t\t<div className='card-header card-header primary'>\n\t\t\t\t{mode} Regular Patient\n\t\t\t\t<p className='card-category'>Complete the form below.</p>\n\t\t\t</div>\n\t\t\t<div className='card-body'>\n\t\t\t\t<form onSubmit={handleSubmit(submit)}>\n\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t<div className='col-12 col-md-6'>\n\t\t\t\t\t\t\t<div className='form-group bmd-form-group is-filled'>\n\t\t\t\t\t\t\t\t<label className='bmd-label-floating required'>Patient</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\tlist='patientList'\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tconst patient = patients.find((patient) => patient.id === e.target.value.parseNumbers());\n\t\t\t\t\t\t\t\t\t\tif (patient) {\n\t\t\t\t\t\t\t\t\t\t\tsetPatient(patient);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetPatient(e.target.value);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tvalue={typeof patient === 'string' ? patient : patient.name}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<datalist id='patientList'>\n\t\t\t\t\t\t\t\t\t{patients.map((patient, index) => (\n\t\t\t\t\t\t\t\t\t\t<option key={index} value={patient.id}>\n\t\t\t\t\t\t\t\t\t\t\t{patient.name}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</datalist>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='col-12 col-md-6'>\n\t\t\t\t\t\t\t<div className='form-group bmd-form-group is-filled'>\n\t\t\t\t\t\t\t\t<label className='bmd-label-floating required'>Doctor</label>\n\t\t\t\t\t\t\t\t<select ref={register} className='form-control' disabled={processing} name='doctor_id'>\n\t\t\t\t\t\t\t\t\t{doctors.map((doctor, index) => (\n\t\t\t\t\t\t\t\t\t\t<option key={index} value={doctor.id}>\n\t\t\t\t\t\t\t\t\t\t\t{doctor.name}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{user.role === 'Doctor' ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 d-none'>\n\t\t\t\t\t\t\t\t\t<div className='form-group bmd-form-group is-filled'>\n\t\t\t\t\t\t\t\t\t\t<label className='bmd-label-floating required'>Status</label>\n\t\t\t\t\t\t\t\t\t\t<select ref={register} className='form-control' disabled={processing} name='status'>\n\t\t\t\t\t\t\t\t\t\t\t{STATUSES.RegularRecord.map((status, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={index} value={status}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{status}\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='col-12'>\n\t\t\t\t\t\t\t\t\t<div className='form-group bmd-form-group is-filled'>\n\t\t\t\t\t\t\t\t\t\t<label className='bmd-label-floating required'>Diagnosis</label>\n\t\t\t\t\t\t\t\t\t\t<textarea ref={register} className='form-control' disabled={processing} name='diagnosis' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='col-12'>\n\t\t\t\t\t\t\t\t\t<div className='container-fluid'>\n\t\t\t\t\t\t\t\t\t\t<div className='card'>\n\t\t\t\t\t\t\t\t\t\t\t<div className='card-header'>\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 className='card-title'>Prescriptions</h5>\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={medicines.length === 0}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (medicines.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprescriptions.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmedicine_id: medicines[0].id as number,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquantity: 1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} as any,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treleased_at: null,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetPrescriptions([...prescriptions]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.error('There are no available medicines in stock.');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{medicines.length === 0 ? 'No Medicine in Stock' : 'Add Prescription'}\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='container-fluid'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{prescriptions.map((prescription, prescriptionIndex) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='card' key={prescriptionIndex}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='card-header'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className='card-title'>{prescriptionIndex + 1}) Prescription Items</h5>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='d-flex'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-warning btn-sm'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={prescription.released_at !== null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprescription.items?.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmedicine_id: medicines[0].id as number,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquantity: 1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprescription_id: prescription.id as number,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprescriptions.splice(prescriptionIndex, 1, prescription);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetPrescriptions([...prescriptions]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{prescription.released_at === null\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'Add Item'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'Prescription Released'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={prescription.released_at !== null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (prescription.released_at === null) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprescriptions.splice(prescriptionIndex, 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetPrescriptions([...prescriptions]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.error('Prescription has already been released.');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{prescription.released_at === null\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'Remove Prescription'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'Prescription Released'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='col-12'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{prescription.items?.map((item, itemIndex) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='row' key={itemIndex}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-4'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='form-group bmd-form-group is-filled'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className='bmd-label-floating required'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tMedicine\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='medicine_id'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.medicine_id = Number(e.target.value);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprescription.items?.splice(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titemIndex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetPrescriptions([...prescriptions]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.medicine_id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{medicines\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(medicine) => medicine.available > 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map((medicine, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={index} value={medicine.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{medicine.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-4'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='form-group bmd-form-group is-filled'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className='bmd-label-floating required'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tQuantity\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='quantity'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Quantity'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.quantity = Number(e.target.value);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprescription.items?.splice(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titemIndex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetPrescriptions([...prescriptions]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.quantity}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-4 pt-1'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={prescription.released_at !== null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (prescription.released_at === null) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprescription.items?.splice(itemIndex, 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetPrescriptions([...prescriptions]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tRemove Item\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t<div className='col-12'>\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-info btn-sm' disabled={processing}>\n\t\t\t\t\t\t\t\t{processing ? <i className='material-icons spin'>refresh</i> : 'Save'}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Form;\n","import axios from 'axios';\nimport dayjs from 'dayjs';\nimport React, { FC, useEffect, useState } from 'react';\nimport { useRouteMatch, Link } from 'react-router-dom';\nimport { Paginated } from '../../../Contracts/misc';\nimport { Record } from '../../../Contracts/Record';\nimport { makeDummyPagination, handleError } from '../../../helpers';\nimport state from '../../../state';\nimport Pagination from '../../Pagination';\nimport Table from '../../Table';\nimport lodash from 'lodash';\nimport toastr from 'toastr';\nimport { SearchBus } from '../../../events';\nimport { User } from '../../../Contracts/User';\n\ntype Props = {};\n\nconst List: FC<Props> = (props) => {\n\tconst [records, setRecords] = useState<Record[]>([]);\n\tconst [pagination, setPagination] = useState<Paginated>(makeDummyPagination());\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\tconst fetchRecords = async (url?: string) => {\n\t\ttry {\n\t\t\tconst page = state.get<number>('regular-records-page') || 1;\n\t\t\tconst { data } = await axios.get<Paginated<Record>>(url ? url : `/regular-records?page=${page}`);\n\t\t\tsetRecords(data.data);\n\t\t\tsetPagination(data);\n\t\t\tstate.set('regular-records-page', data.current_page);\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\t// const deleteRecord = async (id: any) => {\n\t// \ttry {\n\t// \t\tawait axios.delete(`/regular-records/${id}`);\n\t// \t\ttoastr.info('Record has been deleted.', 'Notice');\n\t// \t\tfetchRecords();\n\t// \t} catch (error) {\n\t// \t\thandleError(error);\n\t// \t}\n\t// };\n\n\tconst search = async (keyword: string) => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get(`/search?model=Record&keyword=${encodeURIComponent(keyword)}&paginate=false`);\n\t\t\tsetRecords(data);\n\t\t\tsetPagination(makeDummyPagination());\n\t\t} catch (error) {\n\t\t\tconsole.log(error.toJSON());\n\t\t\ttoastr.error('Unable to search.');\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetchRecords();\n\t\tconst key = SearchBus.listen<string>('submit', (keyword) => {\n\t\t\tif (keyword.length > 0) {\n\t\t\t\tsearch(keyword);\n\t\t\t} else {\n\t\t\t\tfetchRecords();\n\t\t\t}\n\t\t});\n\t\treturn () => {\n\t\t\tSearchBus.unlisten('submit', key);\n\t\t};\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\tconst user = state.get<User>('user');\n\n\treturn (\n\t\t<>\n\t\t\t{!['Admin', 'Doctor'].includes(user.role) ? (\n\t\t\t\t<Link to={url('/add')} className='btn btn-info btn-sm'>\n\t\t\t\t\tAdd New Regular Patient\n\t\t\t\t</Link>\n\t\t\t) : null}\n\t\t\t<Table\n\t\t\t\ttitle='Regular Patients'\n\t\t\t\thead={() => (\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>ID</th>\n\t\t\t\t\t\t<th>Case Number</th>\n\t\t\t\t\t\t<th>Patient</th>\n\t\t\t\t\t\t<th>Doctor</th>\n\t\t\t\t\t\t<th>Diagnosis</th>\n\t\t\t\t\t\t<th>Status</th>\n\t\t\t\t\t\t<th>Last Updated</th>\n\t\t\t\t\t\t<th colSpan={3}>Actions</th>\n\t\t\t\t\t</tr>\n\t\t\t\t)}\n\t\t\t\tfoot={() => <Pagination pagination={pagination} onChange={(url) => fetchRecords(url)} />}>\n\t\t\t\t{records.map(({ id, case_number, updated_at, patient, doctor, diagnosis, status }, index) => (\n\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t<td>{id}</td>\n\t\t\t\t\t\t<td>{dayjs(case_number!).format('MMMM DD, YYYY')}</td>\n\t\t\t\t\t\t<td>{patient?.name}</td>\n\t\t\t\t\t\t<td>{doctor?.name}</td>\n\t\t\t\t\t\t<td>{lodash.truncate(diagnosis, { length: 20 })}</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<b>{status}</b>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>{dayjs(updated_at!).format('MMMM DD, YYYY hh:mm A')}</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<Link to={url(`/${id}`)} className='btn btn-info btn-sm' title='View'>\n\t\t\t\t\t\t\t\t<i className='material-icons mr-1'>visibility</i>\n\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t{status !== 'Done' && !['Admin'].includes(user.role) ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Link to={url(`/${id}/edit`)} className='btn btn-warning btn-sm' title='Edit'>\n\t\t\t\t\t\t\t\t\t\t<i className='material-icons mr-1'>create</i>\n\t\t\t\t\t\t\t\t\t\t{user.role === 'Doctor' ? 'Add Diagnosis and Prescription' : 'Edit'}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t))}\n\t\t\t</Table>\n\t\t</>\n\t);\n};\n\nexport default List;\n","import axios from 'axios';\nimport dayjs from 'dayjs';\nimport React, { FC, useEffect, useState } from 'react';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport { Record } from '../../../Contracts/Record';\nimport { handleError } from '../../../helpers';\nimport Table from '../../Table';\nimport { routes } from '../../../routes';\nimport state from '../../../state';\nimport { User } from '../../../Contracts/User';\n\ntype Props = {};\n\nconst View: FC<Props> = (props) => {\n\tconst [record, setRecord] = useState<Record | null>(null);\n\tconst history = useHistory();\n\tconst params = useParams<{ id: string }>();\n\n\tconst fetchRecord = async (id: any) => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get(`/regular-records/${id}`);\n\t\t\tsetRecord(data);\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\t// const deleteRecord = async (id: any) => {\n\t// \ttry {\n\t// \t\tawait axios.delete(`/regular-records/${id}`);\n\t// \t\ttoastr.info('Record has been deleted.', 'Notice');\n\t// \t\thistory.goBack();\n\t// \t} catch (error) {\n\t// \t\thandleError(error);\n\t// \t}\n\t// };\n\n\tuseEffect(() => {\n\t\tfetchRecord(params.id);\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\tconst patient = record?.patient;\n\tconst user = state.get<User>('user');\n\n\treturn (\n\t\t<div className='container-fluid'>\n\t\t\t<div className='card'>\n\t\t\t\t<div className='card-header card-header-success'>\n\t\t\t\t\t<h4 className='card-title'>View Regular Record</h4>\n\t\t\t\t\t<div className='d-flex'>\n\t\t\t\t\t\t<Link to={`${routes.DASHBOARD}${routes.PATIENTS}/${record?.patient_id}`} className='btn btn-info btn-sm ml-auto'>\n\t\t\t\t\t\t\t<i className='material-icons mr-1'>visibility</i>\n\t\t\t\t\t\t\tView Patient\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t{record?.status !== 'Done' && !['Admin'].includes(user.role) ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto={`${routes.DASHBOARD}${routes.RECORDS.REGULAR}/${record?.id}/edit`}\n\t\t\t\t\t\t\t\t\tclassName='btn btn-warning btn-sm ml-1'>\n\t\t\t\t\t\t\t\t\t<i className='material-icons mr-1'>create</i>\n\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='card-body'>\n\t\t\t\t\t<p className='card-title'>Patient: {patient?.name}</p>\n\t\t\t\t\t<div className='card-title'>Age: {patient?.age}</div>\n\t\t\t\t\t<div className='card-title'>Sex: {patient?.sex}</div>\n\t\t\t\t\t<div className='card-title'>Birthday: {dayjs(patient?.birthday).format('MMMM DD, YYYY')}</div>\n\t\t\t\t\t<div className='card-title'>Address: {patient?.address}</div>\n\t\t\t\t\t<div className='card-title'>Civil Status: {patient?.civil_status || ''}</div>\n\t\t\t\t\t<div className='card-title'>Membership NH/NN: {patient?.membership || ''}</div>\n\t\t\t\t\t<div className='card-title'>Philhealth Number: {patient?.philhealth_number || ''}</div>\n\t\t\t\t\t<div className='card-title'>Contact Number: {patient?.contact_number || ''}</div>\n\t\t\t\t\t<div className='card-title'>4Ps: {patient?.['4ps'] || ''}</div>\n\t\t\t\t\t<div className='card-title'>Blood Type: {patient?.blood_type || ''}</div>\n\t\t\t\t\t<p className='card-title'>Attending Doctor: {record?.doctor?.name}</p>\n\t\t\t\t\t<p className='card-title'>\n\t\t\t\t\t\tIssued: {record?.created_at ? dayjs(record.created_at).format('MMMM DD, YYYY hh:mm A') : null}\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className='container-fluid'>\n\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\ttitle='Prescriptions'\n\t\t\t\t\t\t\tsubtitles={\n\t\t\t\t\t\t\t\trecord?.prescriptions && record.prescriptions.length === 0 ? 'No Prescriptions Available' : undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thead={() => (\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th>ID</th>\n\t\t\t\t\t\t\t\t\t<th>Released</th>\n\t\t\t\t\t\t\t\t\t<th>Items</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t)}>\n\t\t\t\t\t\t\t{record?.prescriptions?.map((prescription, index) => (\n\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t<td>{prescription.id}</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t{prescription.released_at ? dayjs(prescription.released_at).format('MMMM DD, YYYY hh:mm A') : ''}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<ul className='list-unstyled'>\n\t\t\t\t\t\t\t\t\t\t\t{prescription.items?.map((item, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.medicine?.description} ({item.quantity} {item.medicine?.unit_of_issue})\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default View;\n","import React, { FC } from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport Form from './Form';\nimport List from './List';\nimport View from './View';\n\ntype Props = {};\n\nconst RegularRecords: FC<Props> = (props) => {\n\tconst match = useRouteMatch();\n\n\tconst url = (path: string) => `${match.path}${path}`;\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path={url('')} exact component={List} />\n\t\t\t<Route path={url('/add')} component={Form} />\n\t\t\t<Route path={url('/:id')} exact component={View} />\n\t\t\t<Route path={url('/:id/edit')} component={Form} />\n\t\t</Switch>\n\t);\n};\n\nexport default RegularRecords;\n","import React, { FC } from 'react';\n\ntype Props = {\n\ttitle: string;\n\tsubtitles?: string;\n\thead: () => JSX.Element;\n\tfoot?: () => JSX.Element;\n\tclassName?: string;\n};\n\nconst Table: FC<Props> = ({ title, subtitles, head, children, foot, className }) => {\n\treturn (\n\t\t<div className={`card ${className}`}>\n\t\t\t<div className='card-header card-header-success'>\n\t\t\t\t<h4 className='card-title'>{title}</h4>\n\t\t\t\t{subtitles ? <p className='card-category'>{subtitles}</p> : null}\n\t\t\t</div>\n\t\t\t<div className='card-body'>\n\t\t\t\t<div className='table-responsive'>\n\t\t\t\t\t<table className='table'>\n\t\t\t\t\t\t<thead className='text-success'>{head()}</thead>\n\t\t\t\t\t\t<tbody>{children}</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{foot ? <div className='card-footer'>{foot()}</div> : null}\n\t\t</div>\n\t);\n};\n\nexport default Table;\n","export class Symbol {\n\tprotected key: number;\n\n\tconstructor(description: number) {\n\t\tthis.key = description;\n\t}\n\n\tgetKey() {\n\t\treturn this.key;\n\t}\n}\n\nexport class EventBus {\n\tprotected callbacks: { [key: string]: Function[] } = {};\n\n\tdispatch(key: string, value?: any) {\n\t\tif (!(key in this.callbacks)) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.callbacks[key].forEach((callback) => callback(value));\n\n\t\treturn this;\n\t}\n\n\tlisten<T>(key: string, callback: (args: T) => void) {\n\t\tif (!(key in this.callbacks)) {\n\t\t\tthis.callbacks[key] = [];\n\t\t}\n\n\t\treturn new Symbol(this.callbacks[key].push(callback) - 1);\n\t}\n\n\tunlisten(key: string, symbol: Symbol) {\n\t\tif (!(key in this.callbacks)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.callbacks[key].splice(symbol.getKey(), 1);\n\t}\n}\n","import { EventBus } from './classes';\n\nexport const SearchBus = new EventBus();\n\nexport const MainBus = new EventBus();\n","import React from 'react';\nimport { Paginated } from '../Contracts/misc';\nimport { outIf, toBool } from '../helpers';\n\ntype Props = {\n\tpagination: Paginated<any>;\n\tonChange: (url: string) => void;\n\tsmall?: boolean;\n};\n\nexport default function Pagination({ pagination, onChange, small }: Props) {\n\tconst links = pagination.links.filter((link) => Number.isInteger(Number(link.label)));\n\n\tconst handleClick = (url: string | null) => {\n\t\treturn (e: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => {\n\t\t\te.preventDefault();\n\t\t\tif (url) {\n\t\t\t\tonChange(url);\n\t\t\t}\n\t\t};\n\t};\n\n\tif (pagination.total <= pagination.per_page) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<nav aria-label='Page Navigation'>\n\t\t\t<ul className={`pagination ${outIf(toBool(small), 'pagination-sm')}`}>\n\t\t\t\t<li className={`page-item ${outIf(pagination.prev_page_url === null, 'disabled')}`}>\n\t\t\t\t\t<a className='page-link' href={`${pagination.prev_page_url}`} onClick={handleClick(pagination.prev_page_url)}>\n\t\t\t\t\t\t<span aria-hidden='true'>&lt;</span>\n\t\t\t\t\t\t<span className='sr-only'>Previous</span>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t{links.map(({ active, label, url }, index) => (\n\t\t\t\t\t<li className={`page-item ${outIf(active, 'active')}`} key={index}>\n\t\t\t\t\t\t<a className='page-link' href={`${url}`} onClick={handleClick(url)}>\n\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t\t<li className={`page-item ${outIf(pagination.next_page_url === null, 'disabled')}`}>\n\t\t\t\t\t<a className='page-link' href={`${pagination.next_page_url}`} onClick={handleClick(pagination.next_page_url)}>\n\t\t\t\t\t\t<span aria-hidden='true'>&gt;</span>\n\t\t\t\t\t\t<span className='sr-only'>Next</span>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</nav>\n\t);\n}\n","import { FreeObject } from './Contracts/misc';\n\nexport const EMAIL_REGEX = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\nexport const URL_REGEX = /[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/;\n\nexport const RecordableMap = {\n\tRecord: 'Regular Record',\n\tPrenatalRecord: 'Prenatal Record',\n} as FreeObject;\n\nexport const STATUSES = {\n\tRegularRecord: ['Pending', 'Done'],\n\tPrenatalRecord: ['Pending', 'Done'],\n\tImmunization: {\n\t\tfields: [\n\t\t\t{ key: 'bcg', name: 'BCG' },\n\t\t\t{ key: 'penta', name: 'Penta' },\n\t\t\t{ key: 'opv', name: 'OPV' },\n\t\t\t{ key: 'hepa_b', name: 'Hepa B' },\n\t\t\t{ key: 'mmr', name: 'MMR' },\n\t\t\t{ key: 'measles', name: 'Measles' },\n\t\t\t{ key: 'other', name: 'Other' },\n\t\t],\n\t\tproperties: ['at_birth', 'six_weeks', 'fourteen_weeks', 'nine_months'],\n\t},\n};\n"],"sourceRoot":""}