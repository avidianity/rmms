(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[8],{254:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(4),s=c(2),r=c.n(s),i=c(6),l=c(7),d=c(3),o=c.n(d),b=c(21),j=c.n(b),m=c(88),u=c(16),h=c.n(u),f=c(11),O=c(93),p=c.n(O),x=c(90),v=c(14),N=c(0),g={at_birth:"N/A",six_weeks:"N/A",ten_weeks:"N/A",fourteen_weeks:"N/A",nine_months:"N/A"},y=function(e){var t=Object(a.useState)(!1),c=Object(l.a)(t,2),s=c[0],d=c[1],b=Object(a.useState)("Add"),u=Object(l.a)(b,2),O=u[0],y=u[1],_=Object(a.useState)(),k=Object(l.a)(_,2),w=k[0],M=k[1],D=Object(a.useState)(new Date),I=Object(l.a)(D,2),z=I[0],A=I[1],S=Object(m.b)({defaultValues:{info:{bcg:g,penta:g,opv:g,hepa_b:g,measles:g,mmr:g,other:g}}}),Y=S.register,P=S.handleSubmit,R=S.setValue,q=Object(n.h)(),E=Object(n.f)(),C=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,t.birthday=z.toJSON(),e.next=5,"Add"===O?o.a.post("/immunization-records",t):o.a.put("/immunization-records/".concat(w),t);case 5:h.a.success("Immunization Patient saved successfully."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(f.b)(e.t0);case 11:return e.prev=11,d(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(i.a)(r.a.mark((function e(t){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("/immunization-records/".concat(t));case 3:c=e.sent,a=c.data,R("name",a.name),A(j()(a.birthday).toDate()),R("outcome",a.outcome),R("address",a.address),R("weight",a.weight),R("nbs",a.nbs),R("mother",a.mother),R("father",a.father),R("tt_injection",a.tt_injection),R("time_of_del",a.time_of_del),R("type_of_del",a.type_of_del),R("place_of_del",a.place_of_del),R("gender",a.gender),x.b.Immunization.fields.forEach((function(e){x.b.Immunization.properties.forEach((function(t){R("info[".concat(e.key,"][").concat(t,"]"),a.info[e.key][t])}))})),M(a.id),$(".form-group").addClass("is-filled"),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(0),Object(f.b)(e.t0),E.goBack();case 27:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t){return e.apply(this,arguments)}}(),T=v.a.get("user");return Object(a.useEffect)((function(){q.path.includes("edit")&&(y("Edit"),B(q.params.id))}),[]),Object(N.jsxs)("div",{className:"card",children:[Object(N.jsxs)("div",{className:"card-header card-header",children:[O," Immunization Patient",Object(N.jsx)("p",{className:"card-category",children:"Complete the form below. Leave blank if not applicable."}),Object(N.jsxs)("p",{className:"card-category",children:["Fields with ",Object(N.jsx)("span",{style:{color:"rgb(190, 0, 0)"},children:"*"})," are required."]})]}),Object(N.jsx)("div",{className:"card-body",children:Object(N.jsx)("form",{onSubmit:P(C),children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-12 col-md-3",children:Object(N.jsxs)("div",{className:"form-group bmd-form-group",children:[Object(N.jsx)("label",{className:"bmd-label-floating required",children:"Name"}),Object(N.jsx)("input",{ref:Y,type:"text",className:"form-control",disabled:s,name:"name"})]})}),Object(N.jsx)("div",{className:"col-12 col-md-3",children:Object(N.jsxs)("div",{className:"form-group bmd-form-group is-filled",children:[Object(N.jsx)("label",{className:"bmd-label-floating required",children:"Birthday"}),Object(N.jsx)(p.a,{value:z,className:"form-control",onChange:function(e){A(e[0])},disabled:s||"Edit"===O})]})}),Object(N.jsx)("div",{className:"col-12 col-md-3",children:Object(N.jsxs)("div",{className:"form-group bmd-form-group",children:[Object(N.jsx)("label",{className:"bmd-label-floating required",children:"Address"}),Object(N.jsx)("input",{ref:Y,type:"text",className:"form-control",disabled:s,name:"address"})]})}),Object(N.jsx)("div",{className:"col-12 col-md-3",children:Object(N.jsxs)("div",{className:"form-group bmd-form-group is-filled",children:[Object(N.jsx)("label",{className:"bmd-label-floating required",children:"Gender"}),Object(N.jsxs)("select",{ref:Y,name:"gender",className:"form-control",disabled:s,children:[Object(N.jsx)("option",{value:"Male",children:"Male"}),Object(N.jsx)("option",{value:"Female",children:"Female"})]})]})}),Object(N.jsx)("div",{className:"col-12 col-md-3",children:Object(N.jsxs)("div",{className:"form-group bmd-form-group",children:[Object(N.jsx)("label",{className:"bmd-label-floating required",children:"Outcome"}),Object(N.jsx)("input",{ref:Y,type:"text",className:"form-control",disabled:s,name:"outcome"})]})}),Object(N.jsx)("div",{className:"col-12 col-md-3",children:Object(N.jsxs)("div",{className:"form-group bmd-form-group",children:[Object(N.jsx)("label",{className:"bmd-label-floating required",children:"Weight"}),Object(N.jsx)("input",{ref:Y,type:"text",className:"form-control",disabled:s,name:"weight"})]})}),Object(N.jsx)("div",{className:"col-12 col-md-3",children:Object(N.jsxs)("div",{className:"form-group bmd-form-group",children:[Object(N.jsx)("label",{className:"bmd-label-floating required",children:"NBS"}),Object(N.jsx)("input",{ref:Y,type:"text",className:"form-control",disabled:s,name:"nbs"})]})}),Object(N.jsx)("div",{className:"col-12 col-md-3",children:Object(N.jsxs)("div",{className:"form-group bmd-form-group",children:[Object(N.jsx)("label",{className:"bmd-label-floating required",children:"TT Injection"}),Object(N.jsx)("input",{ref:Y,type:"text",className:"form-control",disabled:s,name:"tt_injection"})]})}),Object(N.jsx)("div",{className:"col-12 col-md-6",children:Object(N.jsxs)("div",{className:"form-group bmd-form-group",children:[Object(N.jsx)("label",{className:"bmd-label-floating required",children:"Mother"}),Object(N.jsx)("input",{ref:Y,type:"text",className:"form-control",disabled:s,name:"mother"})]})}),Object(N.jsx)("div",{className:"col-12 col-md-6",children:Object(N.jsxs)("div",{className:"form-group bmd-form-group",children:[Object(N.jsx)("label",{className:"bmd-label-floating required",children:"Father"}),Object(N.jsx)("input",{ref:Y,type:"text",className:"form-control",disabled:s,name:"father"})]})}),Object(N.jsx)("div",{className:"col-12 col-md-4",children:Object(N.jsxs)("div",{className:"form-group bmd-form-group",children:[Object(N.jsx)("label",{className:"bmd-label-floating required",children:"Time of Del."}),Object(N.jsx)("input",{ref:Y,type:"text",className:"form-control",disabled:s,name:"time_of_del"})]})}),Object(N.jsx)("div",{className:"col-12 col-md-4",children:Object(N.jsxs)("div",{className:"form-group bmd-form-group",children:[Object(N.jsx)("label",{className:"bmd-label-floating required",children:"Type of Del."}),Object(N.jsx)("input",{ref:Y,type:"text",className:"form-control",disabled:s,name:"type_of_del"})]})}),Object(N.jsx)("div",{className:"col-12 col-md-4",children:Object(N.jsxs)("div",{className:"form-group bmd-form-group",children:[Object(N.jsx)("label",{className:"bmd-label-floating required",children:"Place of Del."}),Object(N.jsx)("input",{ref:Y,type:"text",className:"form-control",disabled:s,name:"place_of_del"})]})}),Object(N.jsx)("div",{className:"col-12 ".concat(Object(f.d)("Doctor"!==T.role,"d-none")),children:Object(N.jsx)("div",{className:"card",children:Object(N.jsx)("div",{className:"card-body table-responsive",children:Object(N.jsxs)("table",{className:"table",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{}),x.b.Immunization.properties.map((function(e,t){return Object(N.jsx)("th",{className:"text-center",children:Object(f.e)(e)},t)}))]})}),Object(N.jsx)("tbody",{children:x.b.Immunization.fields.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-center",children:e.name}),x.b.Immunization.properties.map((function(t,c){return Object(N.jsx)("td",{className:"text-center",children:Object(N.jsx)("div",{className:"form-group bmd-form-group text-left",children:Object(N.jsx)("input",{ref:Y,type:"text",className:"form-control",disabled:s||"Edit"===O,name:"info[".concat(e.key,"][").concat(t,"]")})})},c)}))]},t)}))})]})})})}),Object(N.jsx)("div",{className:"col-12",children:Object(N.jsx)("button",{type:"submit",className:"btn btn-info btn-sm",disabled:s,children:s?Object(N.jsx)("i",{className:"material-icons spin",children:"refresh"}):"Save"})})]})})})]})},_=c(32),k=c(86),w=c(87),M=c(85),D=function(e){var t=Object(a.useState)([]),c=Object(l.a)(t,2),s=c[0],d=c[1],b=Object(a.useState)(Object(f.c)()),m=Object(l.a)(b,2),u=m[0],O=m[1],p=Object(n.h)(),x=v.a.get("user"),g=function(e){return"".concat(p.path).concat(e)},y=function(){var e=Object(i.a)(r.a.mark((function e(t){var c,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=v.a.get("immunization-record-page")||1,e.next=4,o.a.get(t||"/immunization-records?page=".concat(c));case 4:a=e.sent,n=a.data,d(n.data),O(n),v.a.set("immunization-record-page",n.current_page),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Object(f.b)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(i.a)(r.a.mark((function e(t){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("/search?model=ImmunizationRecord&keyword=".concat(encodeURIComponent(t),"&paginate=false"));case 3:c=e.sent,a=c.data,d(a),O(Object(f.c)()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.toJSON()),h.a.error("Unable to search.");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){y();var e=k.b.listen("submit",(function(e){e.length>0?D(e):y()}));return function(){k.b.unlisten("submit",e)}}),[]),Object(N.jsxs)(N.Fragment,{children:[["Nurse","Midwife"].includes(x.role)?Object(N.jsx)(_.b,{to:g("/add"),className:"btn btn-info btn-sm",children:"Add New Immunization Patient"}):null,Object(N.jsx)(M.a,{title:"Immunization Patients",head:function(){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"ID"}),Object(N.jsx)("th",{children:"Name"}),Object(N.jsx)("th",{children:"Gender"}),Object(N.jsx)("th",{children:"Birthday"}),Object(N.jsx)("th",{children:"Address"}),Object(N.jsx)("th",{children:"Date Issued"}),Object(N.jsx)("th",{colSpan:2,children:"Actions"})]})},foot:function(){return Object(N.jsx)(w.a,{pagination:u,onChange:function(e){return y(e)}})},children:s.map((function(e,t){var c=e.id,a=e.name,n=e.birthday,s=e.gender,r=e.address,i=e.created_at;return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:c}),Object(N.jsx)("td",{children:a}),Object(N.jsx)("td",{children:s}),Object(N.jsx)("td",{children:j()(n).format("MMMM DD, YYYY")}),Object(N.jsx)("td",{children:r}),Object(N.jsx)("td",{children:j()(i).format("MMMM DD, YYYY hh:mm A")}),Object(N.jsxs)("td",{children:[Object(N.jsxs)(_.b,{to:g("/".concat(c)),className:"btn btn-info btn-sm",title:"View",children:[Object(N.jsx)("i",{className:"material-icons mr-1",children:"visibility"}),"View"]}),["Nurse","Midwife","Doctor"].includes(x.role)?Object(N.jsxs)(_.b,{to:g("/".concat(c,"/edit")),className:"btn btn-warning btn-sm",title:"Edit",children:[Object(N.jsx)("i",{className:"material-icons mr-1",children:"create"}),"Edit"]}):null]})]},t)}))})]})},I=c(13),z=function(e){var t=Object(a.useState)(null),c=Object(l.a)(t,2),s=c[0],d=c[1],b=Object(n.f)(),m=Object(n.g)(),u=function(){var e=Object(i.a)(r.a.mark((function e(t){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("/immunization-records/".concat(t));case 3:c=e.sent,a=c.data,d(a),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),Object(f.b)(e.t0),b.goBack();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){u(m.id)}),[]);var h=v.a.get("user");return Object(N.jsx)("div",{className:"container-fluid",children:Object(N.jsxs)("div",{className:"card",children:[Object(N.jsx)("div",{className:"card-header card-header-success",children:Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)("h4",{className:"card-title",children:"View Immunization Record"}),["Admin"].includes(h.role)?null:Object(N.jsxs)(_.b,{to:"".concat(I.a.DASHBOARD).concat(I.a.RECORDS.IMMUNIZATION,"/").concat(null===s||void 0===s?void 0:s.id,"/edit"),className:"btn btn-warning btn-sm ml-auto",children:[Object(N.jsx)("i",{className:"material-icons mr-1",children:"create"}),"Edit"]})]})}),Object(N.jsxs)("div",{className:"card-body",children:[Object(N.jsxs)("p",{className:"card-title",children:["Name: ",null===s||void 0===s?void 0:s.name]}),Object(N.jsxs)("p",{className:"card-title",children:["Birthday: ",j()(null===s||void 0===s?void 0:s.birthday).format("MMMM DD, YYYY")]}),Object(N.jsxs)("p",{className:"card-title",children:["Outcome: ",null===s||void 0===s?void 0:s.outcome]}),Object(N.jsxs)("p",{className:"card-title",children:["Address: ",null===s||void 0===s?void 0:s.address]}),Object(N.jsxs)("p",{className:"card-title",children:["Weight: ",null===s||void 0===s?void 0:s.weight]}),Object(N.jsxs)("p",{className:"card-title",children:["NBS: ",null===s||void 0===s?void 0:s.nbs]}),Object(N.jsxs)("p",{className:"card-title",children:["Father: ",null===s||void 0===s?void 0:s.father]}),Object(N.jsxs)("p",{className:"card-title",children:["Mother: ",null===s||void 0===s?void 0:s.mother]}),Object(N.jsxs)("p",{className:"card-title",children:["TT Injection: ",null===s||void 0===s?void 0:s.tt_injection]}),Object(N.jsxs)("p",{className:"card-title",children:["Time of Del.: ",null===s||void 0===s?void 0:s.time_of_del]}),Object(N.jsxs)("p",{className:"card-title",children:["Type of Del.: ",null===s||void 0===s?void 0:s.type_of_del]}),Object(N.jsxs)("p",{className:"card-title",children:["Place of Del.: ",null===s||void 0===s?void 0:s.place_of_del]}),Object(N.jsxs)("p",{className:"card-title",children:["Issued:"," ",(null===s||void 0===s?void 0:s.created_at)?j()(s.created_at).format("MMMM DD, YYYY hh:mm A"):null]}),Object(N.jsx)("div",{className:"container-fluid",children:Object(N.jsx)(M.a,{title:"Information",head:function(){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{}),x.b.Immunization.properties.map((function(e,t){return Object(N.jsx)("th",{className:"text-center",children:Object(f.e)(e)},t)}))]})},children:x.b.Immunization.fields.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-center",children:e.name}),x.b.Immunization.properties.map((function(t,c){return Object(N.jsx)("td",{className:"text-center",children:(null===s||void 0===s?void 0:s.info)?s.info[e.key][t]:null},c)}))]},t)}))})})]})]})})};t.default=function(e){var t=Object(n.h)(),c=function(e){return"".concat(t.path).concat(e)};return Object(N.jsxs)(n.c,{children:[Object(N.jsx)(n.a,{path:c(""),exact:!0,component:D}),Object(N.jsx)(n.a,{path:c("/add"),component:y}),Object(N.jsx)(n.a,{path:c("/:id"),exact:!0,component:z}),Object(N.jsx)(n.a,{path:c("/:id/edit"),component:y})]})}},85:function(e,t,c){"use strict";c(1);var a=c(0);t.a=function(e){var t=e.title,c=e.subtitles,n=e.head,s=e.children,r=e.foot,i=e.className;return Object(a.jsxs)("div",{className:"card ".concat(i),children:[Object(a.jsxs)("div",{className:"card-header card-header-success",children:[Object(a.jsx)("h4",{className:"card-title",children:t}),c?Object(a.jsx)("p",{className:"card-category",children:c}):null]}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)("div",{className:"table-responsive",children:Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{className:"text-success",children:n()}),Object(a.jsx)("tbody",{children:s})]})})}),r?Object(a.jsx)("div",{className:"card-footer",children:r()}):null]})}},86:function(e,t,c){"use strict";c.d(t,"b",(function(){return i})),c.d(t,"a",(function(){return l}));var a=c(22),n=c(23),s=function(){function e(t){Object(a.a)(this,e),this.key=void 0,this.key=t}return Object(n.a)(e,[{key:"getKey",value:function(){return this.key}}]),e}(),r=function(){function e(){Object(a.a)(this,e),this.callbacks={}}return Object(n.a)(e,[{key:"dispatch",value:function(e,t){return e in this.callbacks?(this.callbacks[e].forEach((function(e){return e(t)})),this):this}},{key:"listen",value:function(e,t){return e in this.callbacks||(this.callbacks[e]=[]),new s(this.callbacks[e].push(t)-1)}},{key:"unlisten",value:function(e,t){e in this.callbacks&&this.callbacks[e].splice(t.getKey(),1)}}]),e}(),i=new r,l=new r},87:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));c(1);var a=c(11),n=c(0);function s(e){var t=e.pagination,c=e.onChange,s=e.small,r=t.links.filter((function(e){return Number.isInteger(Number(e.label))})),i=function(e){return function(t){t.preventDefault(),e&&c(e)}};return t.total<=t.per_page?null:Object(n.jsx)("nav",{"aria-label":"Page Navigation",children:Object(n.jsxs)("ul",{className:"pagination ".concat(Object(a.d)(Object(a.f)(s),"pagination-sm")),children:[Object(n.jsx)("li",{className:"page-item ".concat(Object(a.d)(null===t.prev_page_url,"disabled")),children:Object(n.jsxs)("a",{className:"page-link",href:"".concat(t.prev_page_url),onClick:i(t.prev_page_url),children:[Object(n.jsx)("span",{"aria-hidden":"true",children:"<"}),Object(n.jsx)("span",{className:"sr-only",children:"Previous"})]})}),r.map((function(e,t){var c=e.active,s=e.label,r=e.url;return Object(n.jsx)("li",{className:"page-item ".concat(Object(a.d)(c,"active")),children:Object(n.jsx)("a",{className:"page-link",href:"".concat(r),onClick:i(r),children:s})},t)})),Object(n.jsx)("li",{className:"page-item ".concat(Object(a.d)(null===t.next_page_url,"disabled")),children:Object(n.jsxs)("a",{className:"page-link",href:"".concat(t.next_page_url),onClick:i(t.next_page_url),children:[Object(n.jsx)("span",{"aria-hidden":"true",children:">"}),Object(n.jsx)("span",{className:"sr-only",children:"Next"})]})})]})})}},90:function(e,t,c){"use strict";c.d(t,"a",(function(){return a})),c.d(t,"b",(function(){return n}));var a={Record:"Regular Record",PrenatalRecord:"Prenatal Record"},n={RegularRecord:["Pending","Done"],PrenatalRecord:["Pending","Done"],Immunization:{fields:[{key:"bcg",name:"BCG"},{key:"penta",name:"Penta"},{key:"opv",name:"OPV"},{key:"hepa_b",name:"Hepa B"},{key:"mmr",name:"MMR"},{key:"measles",name:"Measles"},{key:"other",name:"Other"}],properties:["at_birth","six_weeks","fourteen_weeks","nine_months"]}}}}]);
//# sourceMappingURL=8.f4e9cca4.chunk.js.map